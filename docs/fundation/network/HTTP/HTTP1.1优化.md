# HTTP/1.1如何优化

## 避免发送HTTP请求
   - 利用**缓存**，如果每次请求的数据都是一样的，把这对「请求-响应」的数据用key-value的形式都缓存在本地，下次就直接读取本地的数据
   - 如果客户端从响应头部中发现响应过期，重新发送请求，请求的Etag头部带上第一次请求响应头部的摘要，服务器收到后，将本地资源的摘要与请求中的摘要作比较，如果不同则响应新的资源，相同则仅返回不含有包体的 304 Not Modified 响应，告诉客户端缓存仍然有效，可以减少响应资源在⽹络中传输的延时

## 减少HTTP请求次数
   - 减少重定向次数，将重定向的工作交给代理服务器
   - 合并请求：多个访问⼩⽂件的请求合并成⼀个⼤的请求
        - 将多个小图片用`CSS Image Sprites`合成为一个大图片，浏览器就⽤⼀次请求获得⼀个⼤图⽚，再根据 CSS 数据把⼤图⽚切割成多张⼩图⽚。
        - 可以将图⽚的⼆进制数据⽤ base64 编码后，以 URL 的形式潜⼊到 HTML ⽂件，跟随 HTML ⽂件⼀并发送.客户端收到 HTML 后，就可以直接解码出数据，然后直接显示图⽚，不用再发起图片相关请求
  - 按需访问
        - 请求⽹⻚的时候，只获取当前⽤户所看到的⻚⾯资源
        - 按需获取，来减少第⼀时间的 HTTP 请求次数。


## 减少 HTTP 响应的数据⼤⼩
  - 通过压缩响应资源，降低传输资源的⼤⼩，从⽽提⾼传输效率。