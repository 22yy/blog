# 拥塞控制

>在网络出现拥堵时，避免发送方数据填满网络  

## 拥塞窗口  

>拥塞窗口是发送方维护的状态变量，根据网络拥塞程度动态变化 

发送窗口 swnd 和接收窗口 rwnd 是约等于的关系，由于加入了拥塞窗口的概念后，此时发送窗口的值是swnd = min(cwnd, rwnd)，是拥塞窗口和接收窗口中的最小值   

发生了超时重传，就会认为网络出现了拥塞。  

## 拥塞控制算法  

### 慢启动

>发送方每收到一个ACK, cwnd + 1 ,一点一点的提高发送数据包的数量   

有一个叫慢启动门限 `ssthresh （slow start threshold）`状态变量。  

- 当 cwnd < ssthresh 时，使用慢启动算法。
- 当 cwnd >= ssthresh 时，就会使用拥塞避免算法  

假定swnd = cwnd
- 连接建立完成后，一开始初始化 cwnd = 1，表示可以传一个 MSS 大小的数据
- 收到一个ACK后，cwnd + 1,一次能发2个
- 收到两个ACK,每收到一个ACK加一，cwnd + 2，于是一次能发4个
- 收到四个ACK，cwnd + 4,一次能发8个

>慢启动算法，发包个数是指数性增长  


### 拥塞避免 
